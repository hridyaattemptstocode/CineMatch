<!DOCTYPE html>
<html>
<head>


  <title>Movie Genre Preference</title>


  <style>
    body {
            background-image: url("https://pickamovieforme.b-cdn.net/wp-content/uploads/2020/06/bg.jpg");
            background-repeat: no-repeat;
            background-size: cover;
            background-attachment: fixed; 
            font-family: Arial, sans-serif;
            padding: 20px;
        }
    /* Style for the overlay */
    .overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("https://pickamovieforme.b-cdn.net/wp-content/uploads/2020/06/bg.jpg");
            background-repeat: no-repeat;
            background-size: cover;
            background-attachment: fixed; 
      z-index: 9999;
    }


    /* Style for the modal */
    .modal {
      display: none;
      position: fixed;
      justify-content: center;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 340px;
      padding: 20px;
      background-color: #fff;
      border-radius: 10px;
      z-index: 10000;
    }
    
    


    h1 {
      text-align: center;
      color: #333;
    }
    h3{
        text-align: center;
    }


    .genre-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      text-align: center;
      max-width: 500px;
      margin: 0 auto;
    }


    .genre-input {
     text-align: center;
     justify-content: center;
      display: flex;
      align-items: center;
      margin: 10px;
      width: 150px;
      padding: 10px;
      border: 1px solid #ccc;
      background-color: #fff;
      cursor: pointer;
      transition: background-color 0.3s;
      border-radius: 10px;
    }


    .genre-input:hover {
      background-color: rgba(0, 255, 255, 0.57);
    }


    .genre-input.selected {
      background-color: aqua;
    }


    .genre-input label {
      margin-left: 10px;
      font-weight: bold;
      cursor: pointer;
    }


    .genre-input input[type="checkbox"] {
      display: none;
    }


    .submit-button {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      border: none;
      background-color: red;
      color: #fff;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s;
      border-radius: 10px;
    }


    .submit-button:hover {
      background-color: #555;
    }
  </style>
</head>
<body>
  {% if error%}
    <p><strong>{{error}}</strong></p>
    {% endif%}
    
     
  <h1 style="color: aqua;">Select your favourite Genres</h1>
  {% with messages = get_flashed_messages() %}  
         {% if messages %}  
               {% for message in messages %}  
                    <h3 style="color: aqua;">{{ message }}</h3>  
               {% endfor %}  
         {% endif %}  
      {% endwith %} 
  <form method="POST" action="/">
    <div class="genre-container">
        <div class="genre-input">
            <input type="checkbox" id=animation" name="genre" value="Animation">
            <label for="animation">Animation</label>
            </div>
            <div class="genre-input">
            <input type="checkbox" id=comedy" name="genre" value="Comedy">
            <label for="comedy">Comedy</label>
            </div>
            <div class="genre-input">
            <input type="checkbox" id=family" name="genre" value="Family">
            <label for="family">Family</label>
            </div>
            <div class="genre-input">
            <input type="checkbox" id=adventure" name="genre" value="Adventure">
            <label for="adventure">Adventure</label>
            </div>
            <div class="genre-input">
            <input type="checkbox" id=fantasy" name="genre" value="Fantasy">
            <label for="fantasy">Fantasy</label>
            </div>
            <div class="genre-input">
            <input type="checkbox" id=romance" name="genre" value="Romance">
            <label for="romance">Romance</label>
            </div>
            <div class="genre-input">
            <input type="checkbox" id=drama" name="genre" value="Drama">
            <label for="drama">Drama</label>
            </div>
            <div class="genre-input">
            <input type="checkbox" id=action" name="genre" value="Action">
            <label for="action">Action</label>
            </div>
            <div class="genre-input">
            <input type="checkbox" id=crime" name="genre" value="Crime">
            <label for="crime">Crime</label>
            </div>
            <div class="genre-input">
            <input type="checkbox" id=thriller" name="genre" value="Thriller">
            <label for="thriller">Thriller</label>
            </div>
            <div class="genre-input">
            <input type="checkbox" id=horror" name="genre" value="Horror">
            <label for="horror">Horror</label>
            </div>
            <div class="genre-input">
            <input type="checkbox" id=history" name="genre" value="History">
            <label for="history">History</label>
            </div>
            <div class="genre-input">
            <input type="checkbox" id=sc-fi" name="genre" value="Science">
            <label for="sc-fi">Sc-Fi</label>
            </div>
            <div class="genre-input">
            <input type="checkbox" id=mystery" name="genre" value="Mystery">
            <label for="mystery">Mystery</label>
            </div>
            <div class="genre-input">
            <input type="checkbox" id=war" name="genre" value="War">
            <label for="war">War</label>
            </div>
            <div class="genre-input">
            <input type="checkbox" id=documentary" name="genre" value="Documentary">
            <label for="documentary">Documentary</label>
            </div>
    </div>
    <button class="submit-button" type="submit" onclick="showPopup(counter)" >Continue</button>
  </form>
  <div id="overlay" class="overlay"></div>
  <div id="modal" class="modal">
    <h2>    Personalizing Your Movies</h2>
    <p>Please Wait...</p>


<script>
    
    var genreInputs = document.getElementsByClassName('genre-input');
    var counterElement = document.getElementById('counter');
    var counter = 0;
    
    for (var i = 0; i < genreInputs.length; i++) {
      genreInputs[i].addEventListener('click', function() {
        var checkbox = this.querySelector('input[type="checkbox"]');
        checkbox.checked = !checkbox.checked;
    
        
        if (checkbox.checked) {
          this.classList.add('selected');
          counter++;
        } else {
          this.classList.remove('selected');
          counter--;
        }
        counterElement.textContent = counter;
      });
    }
  </script>    
  <script>


    function showPopup(counter) {
      if (counter>=3) {
        var overlay = document.getElementById('overlay');
        var modal = document.getElementById('modal');
        overlay.style.display = 'block';
        modal.style.display = 'block';
      }
    }
  </script>



</body>
</html>


